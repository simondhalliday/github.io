---
title: "World Values Survey"
author: "Simon Halliday"
date: "2015-November -24"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

##Load requirements
```{r requirements, message = FALSE}
library(DataComputing)
```



## The WVS Data
First, go to the World Value Survey site to see what we'll be working with. Don't download anything yet: [http://www.worldvaluessurvey.org/WVSDocumentationWV6.jsp](http://www.worldvaluessurvey.org/WVSDocumentationWV6.jsp)

I have downloaded the data for you and it is accessible on Moodle.The World Value survey data is a BIG file. You will need to download the zip file from the Moodle page: 
[https://moodle.smith.edu/mod/resource/view.php?id=53796](https://moodle.smith.edu/mod/resource/view.php?id=53796). 

You will then need to *unzip* the file in the folder you plan to use. 

Once you have done that, you will notice that it is a kind of file that we haven't used before, an .Rdata file. These are data files specific to R. We haven't ever had to load an .Rdata file before, so let's do that. 

The file's name is "WVS_Longitudinal_1981_2014_R_v2015_04_18.Rdata" make sure you use the right file path to the data. 

```{r}
load("/Users/shalliday/Google Drive/simondhalliday.github.io/eco254/fall_2015/activities/wvs/WVS_Longitudinal_1981_2014_R_v2015_04_18.Rdata")
```

Running this command will take some time because the file is BIG! (really, it may take up to 5 minutes or so)


First, rename the data object:
```{r}
WVS <- WVS_Longitudinal_1981_2014_R_v2015_04_18
```


What can we do to look at this data? 

- **Don't** just doubleclick on it to view it. 
- **Don't** type `View()`

We can consider some other ideas
- `head()` the data
```{r}
head(WVS)
```
What happens? 

- What about `str()`?
```{r}
str(WVS)
```

What I would suggest you do is the following: 

- Take a look at the questionnaire (download from Moodle): [https://moodle.smith.edu/mod/resource/view.php?id=53802](https://moodle.smith.edu/mod/resource/view.php?id=53802)
- Look at the variable Codebook (download from Moodle): [https://moodle.smith.edu/mod/resource/view.php?id=53803](https://moodle.smith.edu/mod/resource/view.php?id=53803)
- Find a variable in which you're interested (really, anything)

##What to do after looking at the codebook & questionnaire
See if you can do the following as an exercise:

- What I would suggest you do is think about whether you could `select()` a variable (or two) in which you're interested. 
- Can you then think about how you need to `mutate()` that variable to do some data analysis with it? (what are its values, are all of them useful?)
- Can you do a `favstats()` to get a sense of what it looks like? (remember to load the DataComputing package to do this.) What do you get if you can do that command? What would you want to look at otherwise?
- Could you do a `ggplot()` to do some kind of scatter plot of the variable in which you're interested? What would be a useful way to visualize the data? 

For example, here's one variable, A008, for the question: 
"Taking all things together, would you say you are (fill in the value)

1. Very happy
2. Rather happy
3. Not very happy
4. Not at all happy""
I looked in the codebook, and it's listed as variable `A008`. So I look for it and select it, then head the data. 

```{r}
WVSfeelhappy <- 
  WVS %>%
  select(A008)
head(WVSfeelhappy)
```

I can then run `favstats()` on the variable
```{r}
favstats(A008, data = WVSfeelhappy)
```

That doesn't tell me much, because I need to edit the variable because it has values I can't interpret like -5. I need to filter the data too. You can do that with your variable.  

Notice, though, that I've lost all the country data. So I really need to `select()` another variable too before I only select A008. Can you tell which variable I should be using to determine what country it is I'm looking at? 

