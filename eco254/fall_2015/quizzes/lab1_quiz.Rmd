---
title: "Quiz 1"
author: "Simon Halliday"
date: "2015-September -24"
output: html_document
---

Load the packages you require: `mosaicData` and `DataComputing`: 
```{r requirements, message = FALSE}
library(mosaicData)
library(DataComputing)
```


I picked a name randomly from the class and got "Riley". We shall investigate a little bit about that name using the `BabyNames` datatable provided in `mosaicData`. 

I ran the following command to create a data table called `Riley` to
provide a table with the total of all people called Riley in the `BabyNames` data table.

Copy and paste this command into your console or R markdown in a data
chunk and run it. 
```{r Riley}
Riley <- 
  BabyNames %>%
  filter(name == "Riley") %>%
  group_by(year, sex) %>%
  summarise(yearlytotal = sum(count))
```

You should now have an object in your "Environment" tab called "Riley". 

###head()
For the question in the quiz, you need to use the function `head()` to find out how many people are called Riley at the top of the data table Riley.
```{r headRiley, results = "hide"}
head(Riley)
```

###favstats()

Run the `favstats()` function to find the summary statistics of the variable `yearlytotal` with the data table `Riley`.
```{r, include = FALSE}
favstats(yearlytotal, data = Riley)
```
What is the mean value of `yearlytotal` rounded to the closest unit?

###filter() and FemRiley
Now, we need to `filter()` this table to create a new data table (I called mine `FemRiley`) to get a data table that includes only the female cases called Riley. (Don't forget to use two `=` signs for your condition, e.g. `==`):
```{r FemRiley, include = FALSE}
FemRiley <- 
  Riley %>% 
  filter(sex == "F")
FemRiley
```
Now, for the quiz, we need to find out what the first year was in which a female was called Riley in the data. We can do this by using the `head()` function on our `FemRiley` data table. 

###dim() of FemRiley
For the next question in the quiz you need to find out the dimensions of your DataTable. To find out the dimensions of a data table we use the function `dim()`:
```{r dimFemRiley, results = "hide"}
dim(FemRiley)
```

###FemRiley1995
For the next question in the quiz, you need to calculate the number of
females called Riley in the 1995 (I don't know what year Riley in ECO254 
at Smith was born, but I took an educated guess; Riley, apologies if I
got it incorrect.) Once more, use filter to create an object called
FemRiley1995 with only those people called Riley and born in 1995 in 
the object FemRiley1995. You will need to use your insight from the class
to do this. 

```{r, include = FALSE, results = "hide"}
FemRiley1995 <- 
  FemRiley %>% 
  filter(year == 1995)
```

Display your total in the console (or in your knitted R markdown) calling on the data table's name:
```{r, results = "hide"}
FemRiley1995
```

###Final Aside
Note, you could also have just typed `View(FemRiley)` in the console and
scrolled until you got to 1995 to check how many women named Riley were
born in that year, rather than creating a new object. But creating a new 
object is good practise for things yet to come. 


###Bonus Graphic: Kerry over time
Let's move away from Riley and pick another person's name from class,
"Kerry". We can see how the totals of males and females named Kerry has
changed over time. 

The code below shows what we'd need to do to get the data for the name
Kerry and then put it into a ggplot (we start to use `ggplot` next week
for visualization; this graphic is here purely for you to look at what
you think might be going on). Also, if you want to, you can substitute
each instance of the name "Kerry" in the codebloc for a name that you
want to investigate to see what has happened to that name over time. 
You'll notice that some names are *never* used for males and some names 
are *never* used for females (unlike Riley, Kerry or Darcy), try Kitty,
Paula, Hera or Mariko to see what I mean. 

```{r}
Kerry <- 
  BabyNames %>%
  filter(name == "Kerry") %>%
  group_by(year, sex) %>%
  summarise(yearlytotal = sum(count))
Kerry %>%
  ggplot(aes(x = year, y = yearlytotal, color = sex)) +
  geom_line(size = 0.8) +
  ylim(0, NA) +
  ylab("Yearly Totals of the Name Kerry") +
  xlab("Year") +
  scale_color_discrete(name="Sex",
                         breaks=c("F", "M"),
                         labels=c("Female", "Male")) +
  theme_bw()
```